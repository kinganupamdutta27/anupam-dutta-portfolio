{% extends "accounts/base_auth.html" %}

{% block title %}Forgot Password{% endblock %}

{% block content %}
<a href="{% url 'accounts:login' %}" class="back-link">
    <i class="fas fa-arrow-left"></i> Back to Login
</a>

<div class="auth-card">
    <div class="auth-header">
        <div class="auth-logo"><i class="fas fa-key"></i></div>
        <h1 class="auth-title">Forgot Password?</h1>
        <p class="auth-subtitle">Request a password reset from our admin team</p>
    </div>

    <div class="alert alert-info" style="margin-bottom: 1.5rem;">
        <i class="fas fa-info-circle"></i>
        <strong>Note:</strong> For security reasons, password resets are handled manually by our administrators. 
        Please provide details to help verify your identity.
    </div>

    {% if form.non_field_errors %}
        <div class="alert alert-error">
            {% for error in form.non_field_errors %}
                {{ error }}
            {% endfor %}
        </div>
    {% endif %}

    <form method="post" novalidate>
        {% csrf_token %}
        
        <div class="form-group">
            <label for="email" class="form-label">Email Address *</label>
            <input type="email" 
                   id="email" 
                   name="email" 
                   class="form-control {% if form.email.errors %}error{% endif %}"
                   placeholder="your@email.com"
                   value="{{ form.email.value|default:'' }}"
                   autocomplete="email"
                   required>
            {% if form.email.errors %}
                <span class="form-error">{{ form.email.errors.0 }}</span>
            {% endif %}
            <small style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.35rem; display: block;">
                Enter the email address associated with your account
            </small>
        </div>

        <div class="form-group">
            <label for="reason" class="form-label">Reason for Reset *</label>
            <textarea id="reason" 
                      name="reason" 
                      class="form-control {% if form.reason.errors %}error{% endif %}"
                      placeholder="Please explain why you need to reset your password. Include any details that can help verify your identity..."
                      rows="4"
                      required>{{ form.reason.value|default:'' }}</textarea>
            {% if form.reason.errors %}
                <span class="form-error">{{ form.reason.errors.0 }}</span>
            {% endif %}
            <small style="color: var(--text-muted); font-size: 0.8rem; margin-top: 0.35rem; display: block;">
                Minimum 10 characters. Provide details to help verify your identity.
            </small>
        </div>

        <button type="submit" class="btn btn-primary">
            <i class="fas fa-paper-plane"></i> Submit Request
        </button>
    </form>

    <div class="auth-links">
        <p>
            Remember your password? <a href="{% url 'accounts:login' %}">Sign in</a>
        </p>
    </div>
</div>
{% endblock %}
